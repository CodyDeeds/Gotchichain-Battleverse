[gd_scene load_steps=14 format=3 uid="uid://dqufq5lpfiuis"]

[ext_resource type="PackedScene" uid="uid://bbji28y68eptm" path="res://maps/_world.tscn" id="1_mrcsm"]
[ext_resource type="PackedScene" uid="uid://dh1dborjhdnjl" path="res://props/spawn_point.tscn" id="2_fjjf3"]
[ext_resource type="PackedScene" uid="uid://cmx6qvbdqkg5h" path="res://environment/backgrounds/scenes/city.tscn" id="2_qpqyb"]
[ext_resource type="Script" path="res://pieces/spawner.gd" id="3_p3cbe"]
[ext_resource type="PackedScene" uid="uid://svmeqwv5ueqr" path="res://maps/kong_platform.tscn" id="4_li2vk"]
[ext_resource type="PackedScene" uid="uid://d335p47x0406a" path="res://props/barrel_fire.tscn" id="6_iqv8p"]
[ext_resource type="PackedScene" uid="uid://cl4hrtbeuotdo" path="res://pieces/moving_element_sin.tscn" id="6_qsm5f"]
[ext_resource type="PackedScene" uid="uid://piuwu5cpi8wm" path="res://props/moving_platform.tscn" id="7_5s62w"]
[ext_resource type="Texture2D" uid="uid://cddilf7hq4hll" path="res://props/crane_hook.png" id="8_uaiyw"]

[sub_resource type="Curve2D" id="Curve2D_dii2p"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 296, 0, 0, 0, 0, 0, -576)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_8au31"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -768, 256, 0, 0, 0, 0, -768, -256)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_kja1h"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 640, 448, 0, 0, 0, 0, 640, 64)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_ae4tb"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 640, -512, 0, 0, 0, 0, 640, -1280)
}
point_count = 2

[node name="kong" instance=ExtResource("1_mrcsm")]

[node name="city" parent="bac" index="0" instance=ExtResource("2_qpqyb")]
modulate = Color(0.4536, 0.3472, 0.56, 1)

[node name="spawn_point0" parent="spawns" index="0" instance=ExtResource("2_fjjf3")]
position = Vector2(-384, -400)

[node name="spawn_point1" parent="spawns" index="1" instance=ExtResource("2_fjjf3")]
position = Vector2(416, 368)

[node name="spawn_point2" parent="spawns" index="2" instance=ExtResource("2_fjjf3")]
position = Vector2(-384, 112)

[node name="spawn_point3" parent="spawns" index="3" instance=ExtResource("2_fjjf3")]
position = Vector2(-416, 368)

[node name="spawn_point4" parent="spawns" index="4" instance=ExtResource("2_fjjf3")]
position = Vector2(0, -656)

[node name="tilemap" parent="." index="3"]
layer_0/tile_data = PackedInt32Array(917489, 2, 0, 851982, 131074, 0, 917490, 65538, 0, 917491, 65538, 0, 917492, 65538, 0, 917493, 65538, 0, 917494, 65538, 0, 917495, 65538, 0, 917496, 65538, 0, 917497, 65538, 0, 917498, 65538, 0, 917499, 65538, 0, 917500, 65538, 0, 917501, 65538, 0, 917502, 65538, 0, 917503, 65538, 0, 851968, 65538, 0, 851969, 65538, 0, 851970, 65538, 0, 851971, 65538, 0, 851972, 65538, 0, 851973, 65538, 0, 851974, 65538, 0, 851975, 65538, 0, 851976, 65538, 0, 851977, 65538, 0, 851978, 65538, 0, 851979, 65538, 0, 851980, 65538, 0, 851981, 65538, 0, 393201, 9, 0, 327694, 131081, 0, 393206, 131081, 0, 327689, 9, 0, 327690, 65545, 0, 327691, 65545, 0, 327692, 65545, 0, 327693, 65545, 0, 393205, 65545, 0, 393204, 65545, 0, 393203, 65545, 0, 393202, 65545, 0, 655348, 9, 0, 589825, 131081, 0, 589824, 65545, 0, 655359, 65545, 0, 655358, 65545, 0, 655357, 65545, 0, 655356, 65545, 0, 655355, 65545, 0, 655354, 65545, 0, 655353, 65545, 0, 655352, 65545, 0, 655351, 65545, 0, 655350, 65545, 0, 655349, 65545, 0, -196599, 9, 0, -196594, 131081, 0, -720882, 131081, 0, -720887, 9, 0, -720883, 65545, 0, -720884, 65545, 0, -720885, 65545, 0, -720886, 65545, 0, -196598, 65545, 0, -196597, 65545, 0, -196596, 65545, 0, -196595, 65545, 0, -1245170, 131081, 0, -1245171, 65545, 0, -1245172, 65545, 0, -1245173, 65545, 0, -1245174, 65545, 0, -1245175, 65545, 0, -1245176, 65545, 0, -1245177, 65545, 0, -1245178, 65545, 0, -1245179, 65545, 0, -1245180, 65545, 0, -1245181, 65545, 0, -1245182, 65545, 0, -1245183, 65545, 0, -1245184, 65545, 0, -1179649, 65545, 0, -1179650, 65545, 0, -1179651, 65545, 0, -1179652, 65545, 0, -1179653, 65545, 0, -1179654, 65545, 0, -1179655, 65545, 0, -1179656, 65545, 0, -1179657, 65545, 0, -1179658, 65545, 0, -1179659, 65545, 0, -1179660, 65545, 0, -1179661, 65545, 0, -1179662, 65545, 0, -1179663, 9, 0, 65526, 9, 0, 65531, 131081, 0, 65530, 65545, 0, 65529, 65545, 0, 65528, 65545, 0, 65527, 65545, 0, -262154, 9, 0, -262153, 131081, 0, -262146, 131081, 0, -262147, 9, 0, -655375, 9, 0, -655365, 131081, 0, -655366, 65545, 0, -655367, 65545, 0, -655368, 65545, 0, -655369, 65545, 0, -655370, 65545, 0, -655371, 65545, 0, -655372, 65545, 0, -655373, 65545, 0, -655374, 65545, 0, -786420, 0, 65536, 262156, 0, 65536, 786443, 0, 65536, 851956, 0, 65536, -1245196, 0, 131072, -1310709, 0, 131072, 917518, 131074, 2, 917517, 65538, 2, 917516, 65538, 2, 917515, 65538, 2, 917514, 65538, 2, 917513, 65538, 2, 917512, 524290, 1, 917511, 65538, 2, 917510, 65538, 2, 917509, 327682, 1, 917508, 393218, 1, 917507, 65538, 2, 917506, 65538, 2, 917505, 524290, 1, 917504, 65538, 2, 983039, 65538, 2, 983038, 524290, 1, 983037, 65538, 2, 983036, 65538, 2, 983027, 65538, 2, 983026, 65538, 2, 983028, 65538, 2, 983029, 65538, 2, 983030, 65538, 2, 983031, 524290, 1, 983032, 65538, 2, 983033, 65538, 2, 983034, 393218, 1, 983035, 327682, 1, 983025, 2, 2, 2228219, 131074, 1, 2162683, 131074, 1, 2097147, 131074, 1, 2031611, 131074, 1, 1966075, 327682, 4, 1900539, 131074, 1, 1835003, 327682, 4, 1769467, 131074, 1, 1703931, 131074, 1, 1638395, 131074, 1, 1572859, 131074, 1, 1507323, 131074, 1, 1441787, 131074, 1, 1376251, 131074, 1, 1310715, 327682, 4, 1245179, 131074, 1, 1179643, 327682, 4, 1114107, 131074, 1, 1048571, 131074, 1, 2228218, 2, 1, 2162682, 2, 1, 2097146, 2, 1, 2031610, 2, 1, 1966074, 2, 1, 1900538, 2, 1, 1835002, 2, 1, 1769466, 2, 1, 1703930, 2, 1, 1638394, 2, 1, 1572858, 2, 1, 1507322, 2, 1, 1441786, 2, 1, 1376250, 2, 1, 1310714, 2, 1, 1245178, 2, 1, 1179642, 393218, 4, 1114106, 2, 1, 1048570, 2, 1, 3276795, 131074, 2, 3211259, 131074, 1, 3145723, 327682, 4, 3080187, 131074, 1, 3014651, 131074, 1, 2949115, 131074, 1, 2883579, 131074, 1, 2818043, 131074, 1, 2752507, 131074, 1, 2686971, 131074, 1, 2621435, 327682, 4, 2555899, 131074, 1, 2490363, 327682, 4, 2424827, 131074, 1, 2359291, 131074, 1, 2293755, 131074, 1, 3276794, 2, 2, 3211258, 2, 1, 3145722, 2, 1, 3080186, 2, 1, 3014650, 2, 1, 2949114, 2, 1, 2883578, 2, 1, 2818042, 2, 1, 2752506, 2, 1, 2686970, 2, 1, 2621434, 2, 1, 2555898, 2, 1, 2490362, 2, 1, 2424826, 2, 1, 2359290, 2, 1, 2293754, 2, 1, 3211269, 131074, 2, 3145733, 131074, 1, 3080197, 131074, 1, 3014661, 131074, 1, 2949125, 131074, 1, 2883589, 131074, 1, 2818053, 131074, 1, 2752517, 131074, 1, 2686981, 131074, 1, 2621445, 131074, 1, 2555909, 131074, 1, 2490373, 131074, 1, 2424837, 131074, 1, 2359301, 131074, 1, 2293765, 131074, 1, 2228229, 131074, 1, 2162693, 131074, 1, 2097157, 131074, 1, 2031621, 131074, 1, 1966085, 131074, 1, 1900549, 131074, 1, 1835013, 131074, 1, 1769477, 131074, 1, 1703941, 131074, 1, 1638405, 131074, 1, 1572869, 131074, 1, 1507333, 131074, 1, 1441797, 131074, 1, 1376261, 131074, 1, 1310725, 131074, 1, 1245189, 131074, 1, 1179653, 131074, 1, 1114117, 327682, 4, 1048581, 131074, 1, 983045, 131074, 1, 3211268, 2, 2, 3145732, 2, 1, 3080196, 2, 1, 3014660, 2, 1, 2949124, 2, 1, 2883588, 393218, 4, 2818052, 2, 1, 2752516, 393218, 4, 2686980, 2, 1, 2621444, 2, 1, 2555908, 2, 1, 2490372, 2, 1, 2424836, 2, 1, 2359300, 2, 1, 2293764, 2, 1, 2228228, 393218, 4, 2162692, 2, 1, 2097156, 393218, 4, 2031620, 2, 1, 1966084, 2, 1, 1900548, 2, 1, 1835012, 2, 1, 1769476, 2, 1, 1703940, 2, 1, 1638404, 2, 1, 1572868, 393218, 4, 1507332, 2, 1, 1441796, 393218, 4, 1376260, 2, 1, 1310724, 2, 1, 1245188, 2, 1, 1179652, 2, 1, 1114116, 393218, 4, 1048580, 2, 1, 983044, 2, 1, 1179641, 2, 3, 1114104, 196610, 3, 1048567, 196610, 2, 1179644, 131074, 3, 1114109, 196610, 3, 1048574, 196610, 2, 983041, 196610, 2, 1048578, 196610, 3, 1114115, 2, 3, 1114118, 131074, 3, 1048583, 196610, 3, 983048, 196610, 2, 1310716, 65538, 3, 1310717, 131074, 3, 1376254, 2, 3, 1376255, 131074, 3, 1376256, 2, 3, 1376257, 131074, 3, 1441794, 2, 3, 1441795, 65538, 3, 1572867, 65538, 3, 1572866, 2, 3, 1638401, 131074, 3, 1638400, 2, 3, 1769470, 2, 3, 1769471, 131074, 3, 1835004, 65538, 3, 1835005, 131074, 3, 1966076, 65538, 3, 1966077, 131074, 3, 2031614, 2, 3, 2031615, 131074, 3, 2031616, 2, 3, 2031617, 131074, 3, 2097154, 2, 3, 2097155, 65538, 3, 2228227, 65538, 3, 2228226, 2, 3, 2293761, 131074, 3, 2293760, 2, 3, 2424831, 131074, 3, 2424830, 2, 3, 2490364, 65538, 3, 2490365, 131074, 3, 2621436, 65538, 3, 2621437, 131074, 3, 2686974, 2, 3, 2686975, 131074, 3, 2686976, 2, 3, 2686977, 131074, 3, 2752514, 2, 3, 2752515, 65538, 3, 2883587, 65538, 3, 2883586, 2, 3, 2949121, 131074, 3, 2949120, 2, 3, 3080191, 131074, 3, 3080190, 2, 3, 3145725, 131074, 3, 3145724, 65538, 3)
layer_2/tile_data = PackedInt32Array(-1245174, 65546, 0, -1179637, 10, 0, -1114101, 10, 0, -1048564, 10, 0, -983028, 196618, 0, -917492, 10, 0, -851955, 131082, 0, -786419, 131082, 0, -851956, 10, 0, -1048565, 10, 0, -1179638, 65546, 0, -1114102, 65546, 0, -1048566, 65546, 0, -983030, 262154, 0, -917494, 65546, 0, -851958, 65546, 0, -786422, 65546, 0, -720886, 65546, 0, -655350, 65546, 0, -1245173, 10, 0, -983029, 196618, 0, -917493, 10, 0, -851957, 10, 0, -786421, 10, 0, -720885, 10, 0, -655349, 10, 0, -1245172, 10, 0, -1179636, 10, 0, -1114100, 10, 0, -786420, 10, 0, -720884, 10, 0, -655348, 10, 0, -1245171, 131082, 0, -1179635, 131082, 0, -1114099, 131082, 0, -1048563, 131082, 0, -983027, 327690, 0, -917491, 131082, 0, -720883, 131082, 0, -655347, 131082, 0, -589814, 65546, 0, -524278, 65546, 0, -458742, 262154, 0, -393206, 65546, 0, -327670, 65546, 0, -262134, 65546, 0, -196598, 65546, 0, -131062, 65546, 0, -65526, 65546, 0, 10, 65546, 0, 65546, 262154, 0, 131082, 65546, 0, 196618, 65546, 0, 262154, 65546, 0, 327690, 65546, 0, 393226, 65546, 0, 458762, 65546, 0, 524298, 65546, 0, 589834, 262154, 0, 655370, 65546, 0, 720906, 65546, 0, 786442, 65546, 0, -589813, 10, 0, -524277, 10, 0, -458741, 196618, 0, -393205, 10, 0, -327669, 10, 0, -262133, 10, 0, -196597, 10, 0, -131061, 10, 0, -65525, 10, 0, 11, 10, 0, 65547, 196618, 0, 131083, 10, 0, 196619, 10, 0, 262155, 10, 0, 327691, 10, 0, 393227, 10, 0, 458763, 10, 0, 524299, 10, 0, 589835, 196618, 0, 655371, 10, 0, 720907, 10, 0, 786443, 10, 0, -589812, 10, 0, -524276, 10, 0, -458740, 196618, 0, -393204, 10, 0, -327668, 10, 0, -262132, 10, 0, -196596, 10, 0, -131060, 10, 0, -65524, 10, 0, 12, 10, 0, 65548, 196618, 0, 131084, 10, 0, 196620, 10, 0, 262156, 10, 0, 327692, 10, 0, 393228, 10, 0, 458764, 10, 0, 524300, 10, 0, 589836, 196618, 0, 655372, 10, 0, 720908, 10, 0, 786444, 10, 0, -589811, 131082, 0, -524275, 131082, 0, -458739, 327690, 0, -393203, 131082, 0, -327667, 131082, 0, -262131, 131082, 0, -196595, 131082, 0, -131059, 131082, 0, -65523, 131082, 0, 13, 131082, 0, 65549, 327690, 0, 131085, 131082, 0, 196621, 131082, 0, 262157, 131082, 0, 327693, 131082, 0, 393229, 131082, 0, 458765, 131082, 0, 524301, 131082, 0, 589837, 327690, 0, 655373, 131082, 0, 720909, 131082, 0, 786445, 131082, 0, -1179649, 65546, 0, -1114113, 65546, 0, -1048577, 65546, 0, -983041, 65546, 0, -917505, 65546, 0, -851969, 65546, 0, -786433, 65546, 0, -720897, 65546, 0, -655361, 65546, 0, -589825, 65546, 0, -524289, 65546, 0, -458753, 65546, 0, -393217, 65546, 0, -327681, 65546, 0, -262145, 65546, 0, -196609, 65546, 0, -131073, 65546, 0, -65537, 65546, 0, -1, 65546, 0, 65535, 65546, 0, 131071, 65546, 0, 196607, 65546, 0, 262143, 65546, 0, 327679, 65546, 0, 393215, 65546, 0, 458751, 65546, 0, 524287, 65546, 0, 589823, 65546, 0, 655359, 65546, 0, 720895, 65546, 0, 786431, 65546, 0, 851967, 65546, 0, 786432, 131082, 0, 720896, 131082, 0, 655360, 131082, 0, 589824, 131082, 0, 524288, 131082, 0, 458752, 131082, 0, 393216, 131082, 0, 327680, 131082, 0, 262144, 131082, 0, 196608, 131082, 0, 131072, 131082, 0, 65536, 131082, 0, 0, 131082, 0, -65536, 131082, 0, -131072, 131082, 0, -196608, 131082, 0, -262144, 131082, 0, -327680, 131082, 0, -393216, 131082, 0, -458752, 131082, 0, -524288, 131082, 0, -589824, 131082, 0, -655360, 131082, 0, -720896, 131082, 0, -786432, 131082, 0, -851968, 131082, 0, -917504, 131082, 0, -983040, 131082, 0, -1048576, 131082, 0, -1114112, 131082, 0, -1179648, 131082, 0, -1245184, 131082, 0, 393202, 65546, 0, 458738, 65546, 0, 524274, 65546, 0, 589810, 65546, 0, 655346, 65546, 0, 720882, 65546, 0, 786418, 65546, 0, 851954, 65546, 0, 393205, 131082, 0, 458741, 131082, 0, 524277, 131082, 0, 589813, 131082, 0, 655349, 131082, 0, 720885, 131082, 0, 786421, 131082, 0, 851957, 131082, 0, 393203, 10, 0, 458739, 10, 0, 524275, 10, 0, 589811, 10, 0, 655347, 10, 0, 720883, 10, 0, 786419, 10, 0, 851955, 10, 0, 393204, 10, 0, 458740, 10, 0, 524276, 10, 0, 589812, 10, 0, 655348, 10, 0, 720884, 10, 0, 786420, 10, 0, 851956, 10, 0, -1245185, 65546, 0, -1310721, 65546, 0, -1441793, 65546, 0, -1507329, 65546, 0, -1310720, 131082, 0, -1441792, 131082, 0, -1507328, 131082, 0, -1638400, 131082, 0, -1769472, 131082, 0, -1638401, 65546, 0, -1835009, 65546, 0, -1966080, 131082, 0)

[node name="platforms" type="Node2D" parent="." index="7"]

[node name="path0" type="Path2D" parent="platforms" index="0"]
position = Vector2(0, -8.14679)
scale = Vector2(1, 1.02752)
curve = SubResource("Curve2D_dii2p")

[node name="spawner" type="Node2D" parent="platforms/path0" index="0"]
position = Vector2(0, 296)
script = ExtResource("3_p3cbe")
scene = ExtResource("4_li2vk")
spawn_as_sibling = true

[node name="timer" type="Timer" parent="platforms/path0/spawner" index="0"]
wait_time = 4.0
autostart = true

[node name="platform0" parent="platforms/path0" index="1" instance=ExtResource("4_li2vk")]
position = Vector2(0, 16.9622)
progress = 279.04

[node name="platform1" parent="platforms/path0" index="2" instance=ExtResource("4_li2vk")]
position = Vector2(0, -262.081)
progress = 558.08

[node name="platform2" parent="platforms/path0" index="3" instance=ExtResource("4_li2vk")]
position = Vector2(0, -541.149)
progress = 837.12

[node name="platform3" parent="platforms/path0" index="4" instance=ExtResource("4_li2vk")]
position = Vector2(0, 296)

[node name="path_left" type="Path2D" parent="platforms" index="1"]
curve = SubResource("Curve2D_8au31")

[node name="moving_element_sin" parent="platforms/path_left" index="0" instance=ExtResource("6_qsm5f")]
position = Vector2(-768, 256)
interval = 12.0

[node name="moving_platform" parent="platforms/path_left/moving_element_sin" index="1" instance=ExtResource("7_5s62w")]

[node name="crane_hook" type="Sprite2D" parent="platforms/path_left/moving_element_sin" index="2"]
position = Vector2(0, -136)
texture = ExtResource("8_uaiyw")

[node name="path_right_lower" type="Path2D" parent="platforms" index="2"]
curve = SubResource("Curve2D_kja1h")

[node name="moving_element_sin" parent="platforms/path_right_lower" index="0" instance=ExtResource("6_qsm5f")]
position = Vector2(640, 448)
interval = 12.0

[node name="moving_platform0" parent="platforms/path_right_lower/moving_element_sin" index="1" instance=ExtResource("7_5s62w")]
position = Vector2(-48, 0)

[node name="moving_platform1" parent="platforms/path_right_lower/moving_element_sin" index="2" instance=ExtResource("7_5s62w")]
position = Vector2(48, 0)

[node name="crane_hook" type="Sprite2D" parent="platforms/path_right_lower/moving_element_sin" index="3"]
position = Vector2(0, -136)
texture = ExtResource("8_uaiyw")

[node name="barrel_fire" parent="platforms/path_right_lower/moving_element_sin" index="4" instance=ExtResource("6_iqv8p")]
position = Vector2(64, -48)
flipped = true

[node name="path_right_upper" type="Path2D" parent="platforms" index="3"]
curve = SubResource("Curve2D_ae4tb")

[node name="moving_element_sin" parent="platforms/path_right_upper" index="0" instance=ExtResource("6_qsm5f")]
position = Vector2(640, -512)
interval = 30.0
phase = 0.5

[node name="moving_platform" parent="platforms/path_right_upper/moving_element_sin" index="1" instance=ExtResource("7_5s62w")]

[node name="crane_hook" type="Sprite2D" parent="platforms/path_right_upper/moving_element_sin" index="2"]
position = Vector2(0, -136)
texture = ExtResource("8_uaiyw")

[node name="props" type="Node2D" parent="." index="8"]

[node name="barrel_fire0" parent="props" index="0" instance=ExtResource("6_iqv8p")]
position = Vector2(-320, -392)

[node name="barrel_fire1" parent="props" index="1" instance=ExtResource("6_iqv8p")]
position = Vector2(448, -136)
flipped = true

[node name="barrel_fire2" parent="props" index="2" instance=ExtResource("6_iqv8p")]
position = Vector2(-160, -40)
flipped = true

[connection signal="timeout" from="platforms/path0/spawner/timer" to="platforms/path0/spawner" method="activate"]
